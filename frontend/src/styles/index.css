/* src/theme/theme.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ✅ Mobile Performance: Optimize rendering and scrolling */
* {
  /* Enable hardware acceleration for better mobile performance */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Optimize touch scrolling */
  -webkit-overflow-scrolling: touch;
}

html {
  /* Prevent text size adjustment on iOS */
  -webkit-text-size-adjust: 100%;
  /* Smooth scrolling on mobile */
  scroll-behavior: smooth;
}

body {
  /* Prevent pull-to-refresh on mobile */
  overscroll-behavior-y: contain;
  /* Optimize font rendering */
  text-rendering: optimizeLegibility;
}

/* ✅ Mobile Performance: Optimize images */
img {
  /* Prevent layout shift */
  max-width: 100%;
  height: auto;
  /* Lazy load images */
  loading: lazy;
  /* Optimize image rendering */
  image-rendering: -webkit-optimize-contrast;
}

/* ✅ Mobile Performance: Optimize animations for mobile */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ✅ Responsive checkbox sizing */
input[type="checkbox"] {
  width: 16px !important;
  height: 16px !important;
  min-width: 16px !important;
  min-height: 16px !important;
  cursor: pointer;
}

@media (min-width: 768px) {
  input[type="checkbox"] {
    width: 12px !important;
    height: 12px !important;
    min-width: 12px !important;
    min-height: 12px !important;
  }
}

/* ✅ Mobile Performance: Optimize touch targets */
button,
a,
input:not([type="checkbox"]):not([type="radio"]),
select,
textarea {
  /* Ensure minimum touch target size (44x44px recommended) */
  min-height: 44px;
  min-width: 44px;
  /* Remove tap highlight on mobile */
  -webkit-tap-highlight-color: transparent;
  /* Improve touch responsiveness */
  touch-action: manipulation;
}

@theme {
  --color-bg: var(--user-bg, #f9fafb);
  --color-text: var(--user-text, #111827);
  --color-primary: var(--user-primary, #3b82f6);
  --color-card: var(--user-card, #ffffff);
}

/* ===== THEME SYSTEM ===== */

/* Glass theme (default) - Glassmorphism with backdrop blur and transparency */
:root,
[data-theme="glass"] {
  --widget-bg: rgba(255, 255, 255, 0.075);
  --widget-border: rgba(255, 255, 255, 0.15);
  --widget-blur: blur(12px);
  --widget-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --widget-ring: rgba(255, 255, 255, 0.1);
  --chart-grid: rgba(255, 255, 255, 0.08);
  --chart-tick: rgba(255, 255, 255, 0.75);

  --page-bg-from: #0f172a;
  --page-bg-to: #020617;

  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-muted: rgba(255, 255, 255, 0.5);

  --btn-bg: rgba(255, 255, 255, 0.1);
  --btn-border: rgba(255, 255, 255, 0.15);
  --btn-hover: rgba(255, 255, 255, 0.15);

  --positive: #10b981;
  --negative: #f43f5e;
  --positive-bg-soft: rgba(16, 185, 129, 0.12);
  --positive-ring: rgba(16, 185, 129, 0.25);
  --negative-bg-soft: rgba(244, 63, 94, 0.12);
  --negative-ring: rgba(244, 63, 94, 0.25);
  --divider: rgba(255, 255, 255, 0.10);

  --user-bg: #0f172a;
  --user-text: #ffffff;
  --user-primary: #3b83f6;
  --user-card: rgba(255, 255, 255, 0.075);
}

/* Light theme - Clean light colors with solid backgrounds */
[data-theme="light"] {
  --widget-bg: #fcfcfd; /* slightly off-white to reduce glare */
  --widget-border: rgba(0, 0, 0, 0.10);
  --widget-blur: blur(6px);
  --widget-shadow: 0 8px 24px -12px rgba(0, 0, 0, 0.18);
  --widget-ring: rgba(0, 0, 0, 0.06);
  --chart-grid: rgba(0, 0, 0, 0.06);
  --chart-tick: rgba(17, 24, 39, 0.66);

  --page-bg-from: #e5e7eb;
  --page-bg-to: #f3f4f6;

  --text-primary: #030712;
  --text-secondary: #1f2937;
  --text-muted: #4b5563;

  --btn-bg: #e5e7eb;
  --btn-border: #9ca3af;
  --btn-hover: #d1d5db;

  --positive: #047857;
  --negative: #b91c1c;
  --positive-bg-soft: rgba(4, 120, 87, 0.10);
  --positive-ring: rgba(4, 120, 87, 0.18);
  --negative-bg-soft: rgba(185, 28, 28, 0.10);
  --negative-ring: rgba(185, 28, 28, 0.18);
  --divider: #e5e7eb;

  --user-bg: #f3f4f6;
  --user-text: #030712;
  --user-primary: #1d4ed8;
  --user-card: #ffffff;
}

/* Dark theme - Dark solid colors without glass effects */
[data-theme="dark"] {
  --widget-bg: #1f2937;
  --widget-border: #374151;
  --widget-blur: none;
  --widget-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -2px rgba(0, 0, 0, 0.2);
  --widget-ring: rgba(255, 255, 255, 0.05);
  --chart-grid: rgba(255, 255, 255, 0.08);
  --chart-tick: rgba(249, 250, 251, 0.70);

  --page-bg-from: #111827;
  --page-bg-to: #111827;

  --text-primary: #f9fafb;
  --text-secondary: #9ca3af;
  --text-muted: #6b7280;

  --btn-bg: #374151;
  --btn-border: #4b5563;
  --btn-hover: #4b5563;

  --positive: #34d399;
  --negative: #fb7185;
  --positive-bg-soft: rgba(52, 211, 153, 0.12);
  --positive-ring: rgba(52, 211, 153, 0.25);
  --negative-bg-soft: rgba(251, 113, 133, 0.12);
  --negative-ring: rgba(251, 113, 133, 0.25);
  --divider: rgba(255, 255, 255, 0.08);

  --user-bg: #111827;
  --user-text: #f9fafb;
  --user-primary: #6366f1;
  --user-card: #1f2937;
}

html { scroll-behavior: smooth; }

/* Neon-ish, tasteful glow for the logo */
.drop-shadow-neon {
  filter:
    drop-shadow(0 0 18px rgba(56, 189, 248, 0.35))  /* cyan-400 */
    drop-shadow(0 0 28px rgba(217, 70, 239, 0.25)); /* fuchsia-500 */
}

/* Gentle breathing effect */
@keyframes pulse-slow {
  0%, 100% { transform: scale(1); opacity: 0.92; }
  50%      { transform: scale(1.03); opacity: 1;    }
}
.animate-pulse-slow {
  animation: pulse-slow 1600ms ease-in-out infinite;
}

/* Professional indeterminate bar (slides left→right repeatedly) */
@keyframes indeterminate-bar {
  0%   { transform: translateX(-50%); }
  100% { transform: translateX(150%); }
}
.animate-indeterminate-bar {
  animation: indeterminate-bar 1400ms ease-in-out infinite;
}

/* ✅ Fix dropdown option styling for glass theme */
:root,
[data-theme="glass"] {
  /* Ensure select dropdown options are visible in glass theme */
}

:root select option,
[data-theme="glass"] select option {
  background-color: #1f2937 !important; /* Dark background for glass theme */
  color: #ffffff !important; /* White text */
}

:root select option:hover,
[data-theme="glass"] select option:hover,
:root select option:checked,
[data-theme="glass"] select option:checked {
  background-color: #374151 !important; /* Slightly lighter on hover/selected */
  color: #ffffff !important;
}

/* Light theme - options should have light background */
[data-theme="light"] select option {
  background-color: #ffffff !important;
  color: #030712 !important;
}

[data-theme="light"] select option:hover,
[data-theme="light"] select option:checked {
  background-color: #f3f4f6 !important;
  color: #030712 !important;
}

/* Dark theme - options should match dark theme */
[data-theme="dark"] select option {
  background-color: #1f2937 !important;
  color: #f9fafb !important;
}

[data-theme="dark"] select option:hover,
[data-theme="dark"] select option:checked {
  background-color: #374151 !important;
  color: #f9fafb !important;
}
